<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>No-Code Game Creator</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
    body { margin:0; display:flex; height:100vh; font-family:Arial; overflow:hidden; }

    #sidebar {
        width:260px; background:#222; color:white; padding:15px;
        overflow-y:auto; border-right:2px solid #444;
    }
    h2 { margin-top:0; }
    select, button {
        width:100%; padding:10px; margin-top:10px; border-radius:6px;
        border:none; font-size:15px;
    }
    button { background:#4a90e2; color:white; cursor:pointer; }
    button:hover { background:#357abd; }

    #scene {
        flex:1; background:#dfe6ee; position:relative;
    }

    .obj {
        position:absolute;
        border-radius:6px;
    }

    .player { background:#00c853; }
    .enemy { background:#d50000; }
    .coin { background:#fdd835; border-radius:50%; }
    .platform { background:#6d4c41; }
</style>
</head>
<body>

<div id="sidebar">
    <h2>No-Code Game Maker</h2>

    <label>Object Type:</label>
    <select id="objType">
        <option value="player">Player</option>
        <option value="enemy">Enemy</option>
        <option value="coin">Coin</option>
        <option value="platform">Platform</option>
    </select>

    <label>Behavior:</label>
    <select id="behavior">
        <option value="none">None</option>
        <option value="moveLeftRight">Move Left & Right</option>
        <option value="moveUpDown">Move Up & Down</option>
        <option value="patrol">Patrol</option>
    </select>

    <button onclick="playGame()">▶ Play Game</button>
    <button onclick="stopGame()">■ Stop</button>
</div>

<div id="scene"></div>

<script>
const scene = document.getElementById("scene");
let objects = [];
let isPlaying = false;
let gameInterval;

// --- ADD OBJECTS BY CLICKING ---
scene.addEventListener("click", (e) => {
    if (isPlaying) return;

    const type = document.getElementById("objType").value;
    const behavior = document.getElementById("behavior").value;

    let size = 40;
    if (type === "platform") size = 120;

    const obj = {
        type,
        behavior,
        x: e.offsetX,
        y: e.offsetY,
        width: size,
        height: size,
        dx: 2,
        dy: 2,
        el: document.createElement("div")
    };

    obj.el.classList.add("obj", type);
    obj.el.style.width = obj.width + "px";
    obj.el.style.height = obj.height + "px";
    obj.el.style.left = obj.x + "px";
    obj.el.style.top = obj.y + "px";

    scene.appendChild(obj.el);
    objects.push(obj);
});

// --- PLAY THE GAME ---
function playGame() {
    if (isPlaying) return;
    isPlaying = true;

    gameInterval = setInterval(() => {
        objects.forEach(o => {
            if (o.behavior === "moveLeftRight") {
                o.x += o.dx;
                if (o.x <= 0 || o.x + o.width >= scene.clientWidth) o.dx *= -1;
            }

            if (o.behavior === "moveUpDown") {
                o.y += o.dy;
                if (o.y <= 0 || o.y + o.height >= scene.clientHeight) o.dy *= -1;
            }

            if (o.behavior === "patrol") {
                o.x += o.dx;
                o.y += o.dy;
                if (o.x <= 0 || o.x + o.width >= scene.clientWidth) o.dx *= -1;
                if (o.y <= 0 || o.y + o.height >= scene.clientHeight) o.dy *= -1;
            }

            // Update visuals
            o.el.style.left = o.x + "px";
            o.el.style.top = o.y + "px";
        });
    }, 20);
}

// --- STOP THE GAME ---
function stopGame() {
    isPlaying = false;
    clearInterval(gameInterval);
}
</script>

</body>
</html>
