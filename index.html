<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mini Game Maker</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f2f5fa;
        padding: 20px;
    }
    .container {
        max-width: 900px;
        margin: auto;
        background: white;
        padding: 25px;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }
    select, input, button, textarea {
        width: 100%;
        padding: 10px;
        margin-top: 10px;
        border-radius: 8px;
        border: 1px solid #ccc;
    }
    button {
        background: #4a90e2;
        color: white;
        cursor: pointer;
        font-size: 16px;
    }
    button:hover { background: #357abd; }
    .game-area {
        margin-top: 30px;
        padding: 20px;
        border-radius: 10px;
        background: #eef3f8;
    }
    .click-button {
        padding: 20px;
        font-size: 20px;
        background: #33c278;
        border: none;
        color: white;
        border-radius: 10px;
        cursor: pointer;
    }
</style>
</head>
<body>

<div class="container">
    <h1>ðŸŽ® Mini Game Maker</h1>
    <p>Select the type of game you want to create:</p>

    <select id="gameType" onchange="showGameOptions()">
        <option value="">-- Choose a Game Type --</option>
        <option value="clicker">Clicker Game</option>
        <option value="quiz">Quiz Game</option>
    </select>

    <!-- CLICKER GAME OPTIONS -->
    <div id="clickerOptions" style="display:none;">
        <h2>Clicker Game Settings</h2>
        <label>Button Text:</label>
        <input id="clickerText" placeholder="Click Me!">

        <label>Points Needed to Win:</label>
        <input type="number" id="clickerGoal" value="20">

        <button onclick="createClickerGame()">Create Game</button>
    </div>

    <!-- QUIZ GAME OPTIONS -->
    <div id="quizOptions" style="display:none;">
        <h2>Quiz Game Settings</h2>
        <label>Enter questions (Format: question | answer):</label>
        <textarea id="quizInput" rows="6" placeholder="Example:
What is 2+2? | 4
Capital of France? | Paris"></textarea>

        <button onclick="createQuizGame()">Create Game</button>
    </div>

    <!-- GAME AREA -->
    <div id="gameArea" class="game-area"></div>
</div>

<script>
function showGameOptions() {
    document.getElementById("clickerOptions").style.display = "none";
    document.getElementById("quizOptions").style.display = "none";
    document.getElementById("gameArea").innerHTML = "";

    let type = document.getElementById("gameType").value;
    if (type === "clicker") document.getElementById("clickerOptions").style.display = "block";
    if (type === "quiz") document.getElementById("quizOptions").style.display = "block";
}

/* ---------------- CLICKER GAME ---------------- */
function createClickerGame() {
    const text = document.getElementById("clickerText").value || "Click!";
    const goal = Number(document.getElementById("clickerGoal").value);

    let html = `
        <h2>Clicker Game</h2>
        <p>Goal: ${goal} clicks</p>
        <button class="click-button" id="clickBtn">${text}</button>
        <p id="clickCount">Clicks: 0</p>
    `;

    document.getElementById("gameArea").innerHTML = html;

    let count = 0;
    document.getElementById("clickBtn").onclick = () => {
        count++;
        document.getElementById("clickCount").innerHTML = "Clicks: " + count;

        if (count >= goal) {
            alert("ðŸŽ‰ You won!");
        }
    };
}

/* ---------------- QUIZ GAME ---------------- */
function createQuizGame() {
    const raw = document.getElementById("quizInput").value.trim();
    if (!raw) return alert("Please enter questions!");

    const lines = raw.split("\n").map(l => l.trim());
    let questions = [];

    lines.forEach(line => {
        let parts = line.split("|");
        if (parts.length === 2) {
            questions.push({
                q: parts[0].trim(),
                a: parts[1].trim().toLowerCase()
            });
        }
    });

    if (questions.length === 0) return alert("No valid questions found.");

    let output = `<h2>Quiz Game</h2><div id="quizBox">`;

    questions.forEach((q, i) => {
        output += `
            <p><strong>${q.q}</strong></p>
            <input id="ans${i}" placeholder="Your answer...">
        `;
    });

    output += `
        <button onclick="checkQuiz(${questions.length})">Submit Answers</button>
        </div>
    `;

    window.quizQuestions = questions;
    document.getElementById("gameArea").innerHTML = output;
}

function checkQuiz(total) {
    let correct = 0;

    for (let i = 0; i < total; i++) {
        let userAns = document.getElementById("ans" + i).value.trim().toLowerCase();
        if (userAns === window.quizQuestions[i].a) correct++;
    }

    alert(`You got ${correct} / ${total} correct!`);
}
</script>

</body>
</html>
